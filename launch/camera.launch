<launch>
  <group ns="$(arg NAMESPACE)">
    <group ns="$(arg MACHINE)">

      <!-- Machine definition -->
      <machine name="$(arg MACHINE)" address="$(arg MACHINE_IP)" env-loader="/opt/ros/jade/env.sh" timeout="15.0"/>

      <!-- Run camera node on remote machine -->
      <node machine="$(arg MACHINE)" pkg="gscam" type="gscam" name="gscam_v4l" output="screen">
        <param name="camera_name" value="default"/>
        <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
        <param name="gscam_config" value="v4l2src device=$(arg DEVICE) ! video/x-raw-rgb,framerate=$(arg FPS) ! ffmpegcolorspace"/>
        <param name="frame_id" value="/v4l_frame"/>
        <param name="sync_sink" value="true"/>
      </node>

    </group>
  </group>
</launch>

